(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{71:function(e,t,a){},72:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(22),r=a.n(s),i=(a(71),a(72),a(6)),l=a(10),o=a(2),j=a(4),d=a(0),b=Object(n.createContext)(null),u=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(j.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),o=Object(j.a)(l,2),u=o[0],h=o[1],m=Object(i.m)(),O=function(){fetch("/me").then((function(e){e.ok?e.json().then(r):console.log("User not set...")}))},x=function(e){var t=e.username,a=e.password;fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a})}).then((function(e){e.ok?(e.json().then((function(e){return r(e.user)})),O(),m("/restaurants")):e.json().then((function(e){return h("".concat(Object.keys(e),": ").concat(Object.values(e)))}))}))};return Object(d.jsx)(b.Provider,{value:{error:u,user:s,setUser:r,loadUser:O,loginUser:x,signUp:function(e){fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.ok?e.json().then((function(e){x(e),O()})):e.json().then((function(e){return h(e.errors)}))}))},logoutUser:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&(r(null),m("/"))}))}},children:t})},h=a.p+"static/media/feedplan_combo_logo_dark.b461078f.png";var m=function(){return Object(d.jsxs)("div",{style:{backgroundColor:"white",height:"80px",position:"absolute",width:"100%",bottom:"-80px",padding:"25px 50px",display:"flex",justifyContent:"space-between",zIndex:"-1"},children:[Object(d.jsx)("p",{style:{opacity:"25%"},children:"\xa9 2023 Feedplan, Inc. All Rights Reserved."}),Object(d.jsx)("img",{src:h,style:{width:"120px",opacity:"20%"},alt:""})]})},O=a(12);var x=function(){var e=Object(n.useContext)(b),t=e.error,a=e.loginUser,c=Object(n.useState)({username:"",password:""}),s=Object(j.a)(c,2),r=s[0],i=s[1],u=function(e){i(Object(o.a)(Object(o.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)("div",{className:"login-page",children:[Object(d.jsxs)("div",{className:"login form-container",children:[Object(d.jsx)("div",{id:"login-logo-container",children:Object(d.jsx)("img",{id:"login-logo",src:h,alt:"login logo"})}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(r),i({username:"",password:""})},className:"login form",style:{width:"35%"},children:[Object(d.jsx)("p",{children:"Welcome back,"}),Object(d.jsx)("h1",{children:"Sign in to your account"}),Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"username",id:"username",name:"username",placeholder:"username",value:r.username,onChange:function(e){return u(e)},className:"form-input"}),Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:r.password,onChange:function(e){return u(e)},className:"form-input"}),Object(d.jsx)("div",{id:"errors-container",className:"login",children:t&&Object(d.jsxs)("div",{className:"login-error-message",children:[Object(d.jsx)("svg",{className:"error-icon xs",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(d.jsx)("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})}),t]},t)}),Object(d.jsx)(O.a,{variant:"outline-feedplan-purple",type:"submit",className:"form-submit-button",style:{width:"100%"},children:"Log in"}),Object(d.jsx)("div",{className:"signup-link",children:Object(d.jsxs)("a",{href:"/sign-up",children:["Don't have an account? ",Object(d.jsx)("u",{children:"Sign up here"})]})})]})]}),Object(d.jsx)(m,{})]})},p=a(18),f=a(14);var g=function(){var e=Object(n.useState)({username:"",email:"",password:"",password_confirmation:""}),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(b),r=s.error,i=s.signUp,u=function(e){c(Object(o.a)(Object(o.a)({},a),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)("div",{className:"login-page",children:[Object(d.jsxs)("div",{className:"login form-container",children:[Object(d.jsx)("div",{id:"login-logo-container",children:Object(d.jsx)("img",{id:"login-logo",src:h,alt:"login logo"})}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(a),c({username:"",email:"",password:"",password_confirmation:""})},className:"signup form",style:{width:"35%"},children:[Object(d.jsx)("p",{children:"This is the start of something great,"}),Object(d.jsx)("h1",{children:"Create your account"}),Object(d.jsxs)(p.a,{children:[Object(d.jsxs)(f.a,{children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"username",id:"username",name:"username",placeholder:"username",value:a.username,onChange:function(e){return u(e)},className:"form-input"})]}),Object(d.jsxs)(f.a,{children:[Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"email"}),Object(d.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"email",value:a.email,onChange:function(e){return u(e)},className:"form-input"})]})]}),Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:a.password,onChange:function(e){return u(e)},className:"form-input"}),Object(d.jsx)("label",{htmlFor:"password_confirmation",className:"form-label",children:"Password confirmation"}),Object(d.jsx)("input",{type:"password",id:"password-confirmation",name:"password_confirmation",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:a.password_confirmation,onChange:function(e){return u(e)},className:"form-input"}),Object(d.jsx)("div",{id:"errors-container",className:"login",children:r&&Object(d.jsxs)("div",{className:"login-error-message",children:[Object(d.jsx)("svg",{className:"error-icon xs",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(d.jsx)("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})}),r]},r)}),Object(d.jsx)(O.a,{variant:"feedplan-purple",type:"submit",className:"form-submit-button",style:{width:"100%"},children:"Create Account"}),Object(d.jsx)("div",{className:"signup-link",children:Object(d.jsxs)("a",{href:"/",children:["Already have an account? ",Object(d.jsx)("u",{children:"Log in here"})]})})]})]}),Object(d.jsx)(m,{})]})};var v=function(){var e=Object(n.useContext)(b),t=e.user,a=e.logoutUser;return Object(d.jsxs)("nav",{id:"navbar",children:[Object(d.jsx)("div",{id:"navbar-logo-container",children:Object(d.jsx)("img",{id:"navbar-logo",src:h,alt:"home logo"})}),Object(d.jsxs)("div",{className:"navigation-links-container",children:[Object(d.jsx)("h4",{className:"nav-headers",children:"MAIN MENU"}),Object(d.jsxs)("div",{id:"navigation-links",children:[Object(d.jsxs)("a",{href:"/restaurants",children:[Object(d.jsx)("svg",{className:"nav-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:Object(d.jsx)("path",{d:"M32 144a144 144 0 1 1 288 0A144 144 0 1 1 32 144zM176 80c8.8 0 16-7.2 16-16s-7.2-16-16-16c-53 0-96 43-96 96c0 8.8 7.2 16 16 16s16-7.2 16-16c0-35.3 28.7-64 64-64zM144 480V317.1c10.4 1.9 21.1 2.9 32 2.9s21.6-1 32-2.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32z"})}),"Restaurants"]}),Object(d.jsxs)("a",{href:"/meal-plans",children:[Object(d.jsx)("svg",{className:"nav-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:Object(d.jsx)("path",{d:"M96 96V320c0 35.3 28.7 64 64 64H576c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160c-35.3 0-64 28.7-64 64zm64 160c35.3 0 64 28.7 64 64H160V256zM224 96c0 35.3-28.7 64-64 64V96h64zM576 256v64H512c0-35.3 28.7-64 64-64zM512 96h64v64c-35.3 0-64-28.7-64-64zM288 208a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V360c0 66.3 53.7 120 120 120H520c13.3 0 24-10.7 24-24s-10.7-24-24-24H120c-39.8 0-72-32.2-72-72V120z"})}),"Meal Plans"]}),Object(d.jsxs)("a",{href:"/menus",children:[Object(d.jsx)("svg",{className:"nav-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(d.jsx)("path",{d:"M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})}),"Menu Items"]})]}),Object(d.jsxs)("div",{className:"navigation-links-container",children:[Object(d.jsx)("h4",{className:"nav-headers",children:"COMING SOON"}),Object(d.jsxs)("div",{id:"navigation-links",children:[Object(d.jsxs)("a",{children:[Object(d.jsx)("svg",{className:"nav-icons xs",style:{fill:"#ffb330"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(d.jsx)("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"})}),"Analytics"]}),Object(d.jsxs)("a",{children:[Object(d.jsx)("svg",{className:"nav-icons xs",style:{fill:"#665BF7"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(d.jsx)("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"})}),"Marketing"]}),Object(d.jsxs)("a",{children:[Object(d.jsx)("svg",{className:"nav-icons xs",style:{fill:"#00D9CB"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(d.jsx)("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"})}),"Trends"]})]})]})]}),Object(d.jsx)(O.a,{id:"logout-button",variant:"outline-feedplan-purple",onClick:a,children:"Log out @".concat(t.username)})]})};function w(){var e=Object(n.useContext)(b).user;return Object(d.jsx)("div",{id:"static-account-container",style:{zIndex:2},children:Object(d.jsxs)(O.a,{variant:"feedplan-purple",size:"lg",style:{display:"flex",alignContent:"center"},children:[Object(d.jsx)("div",{id:"profile-icon",children:e.username[0].toUpperCase()}),Object(d.jsx)("div",{className:"vertical-account-break"}),Object(d.jsx)("div",{id:"profile-plus-icon",children:"\uff0b"})]})})}var C=function(){return Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"dashboard-heading",children:Object(d.jsx)("h2",{variant:"feedplan-dark-mist",children:"Dashboard"})})})},N=Object(n.createContext)(null),y=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(j.a)(a,2),s=c[0],r=c[1],i=function(e){fetch("/admin/".concat(e,"/restaurants")).then((function(e){e.ok?e.json().then(r):console.log("Something went wrong with restaurants fetch...")}))};return Object(d.jsx)(N.Provider,{value:{restaurants:s,loadRestaurants:i,updateRestaurant:function(e){fetch("/restaurants/".concat(e.id,"/update"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.ok?i():console.log("Something went wrong with restaurants patch...")}))},deleteRestaurant:function(e){fetch("/restaurants/".concat(e),{method:"DELETE"}).then(i)}},children:t})},k=a(84);function S(e){var t=e.rawAddress;return Object(d.jsx)("span",{className:"restaurant-address",children:Object(d.jsx)("p",{children:"".concat(t)})})}var _=a(13),M=a(5),R=function(e){var t=Object(n.useState)(e.restaurant),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useContext)(N).updateRestaurant,i=function(e){s(Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(_.a,Object(o.a)(Object(o.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(_.a.Header,{closeButton:!0,children:Object(d.jsx)(_.a.Title,{id:"contained-modal-title-vcenter",children:Object(d.jsx)("b",{style:{color:"#665BF7",backgroundColor:"#665BF720",padding:".5rem 1rem",borderRadius:"5px"},children:c.name})})}),Object(d.jsx)(_.a.Body,{children:Object(d.jsxs)(M.a,{onSubmit:function(e){e.preventDefault(),r(c),s({})},children:[Object(d.jsx)(p.a,{children:Object(d.jsxs)(f.a,{children:[Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantName",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Restaurant Name"}),Object(d.jsx)(M.a.Control,{type:"text",name:"name",defaultValue:e.restaurant.name})]}),Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantDescription",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Description"}),Object(d.jsx)(M.a.Control,{as:"textarea",name:"description",defaultValue:e.restaurant.description})]}),Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantAddress",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Address"}),Object(d.jsx)(M.a.Control,{type:"text",name:"address",defaultValue:e.restaurant.address})]})]})}),Object(d.jsx)("br",{}),Object(d.jsxs)(p.a,{children:[Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantImage",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Feature Image URL"}),Object(d.jsx)(M.a.Control,{type:"url",name:"image_url",placeholder:"paste link here"}),Object(d.jsx)("div",{id:"restaurant-preview-container",children:Object(d.jsx)("img",{className:e.restaurant.image_url?"restaurant-image-preview":"image-placeholder",alt:"Restaurant feature preview",src:c.image_url})})]})}),Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantLogo",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Logo URL"}),Object(d.jsx)(M.a.Control,{type:"url",name:"icon_url",placeholder:"paste link here"}),Object(d.jsx)("div",{id:"restaurant-preview-container",children:Object(d.jsx)("img",{className:"restaurant-icon-preview",alt:"logo preview",src:c.icon_url})})]})})]}),Object(d.jsx)("br",{}),Object(d.jsxs)(M.a.Select,{onChange:i,name:"live",value:c.live,"aria-label":"Live status selection",children:[Object(d.jsx)("option",{value:"true",children:"Live"}),Object(d.jsx)("option",{value:"false",children:" Draft"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"modal-buttons",children:[Object(d.jsx)(O.a,{variant:"feedplan-purple",type:"submit",onClick:e.onHide,children:"Submit"}),Object(d.jsx)(O.a,{variant:"outline-feedplan-dark",onClick:e.onHide,children:"Cancel"})]})]})})]}))},I=function(e){var t=e.restaurant,a=Object(n.useState)(!1),c=Object(j.a)(a,2),s=c[0],r=c[1],i=Object(n.useContext)(N).deleteRestaurant;return Object(d.jsxs)("div",{id:t.live?"live":"draft",className:"restaurant-card",children:[Object(d.jsx)("div",{id:"status-badge",children:Object(d.jsx)(k.a,{bg:t.live?"success":"secondary",children:t.live?"Active":"Draft"})}),Object(d.jsxs)("div",{className:"card-headings",children:[Object(d.jsx)("img",{id:"restaurant-icon",src:t.icon_url,alt:"restaurant logo",style:{width:"50px",borderRadius:"50%",marginRight:"10px"}}),Object(d.jsx)("b",{children:t.name})]}),Object(d.jsxs)("div",{className:"restaurant-info",children:[Object(d.jsx)("span",{className:"restaurant-description",children:t.description.length>=100?t.description.slice(0,100)+"... ":t.description}),Object(d.jsx)(S,{rawAddress:t.address})]}),Object(d.jsxs)("div",{className:"restaurant-stats-container",children:[Object(d.jsx)("div",{className:"restaurant-stat",children:Object(d.jsxs)("p",{children:[Object(d.jsx)("b",{children:t.menu_items})," menu items"]})}),Object(d.jsx)("div",{className:"restaurant-stat",children:Object(d.jsxs)("p",{children:[Object(d.jsx)("b",{children:t.meal_plans})," meal plans"]})})]}),Object(d.jsx)("div",{className:"horizontal-line-break"}),Object(d.jsxs)("div",{className:"restaurant-button-group",children:[Object(d.jsx)(O.a,{id:"edit-button",onClick:function(){r(!0)},variant:"outline-feedplan-dark",children:"edit"}),!t.live&&Object(d.jsx)(O.a,{id:"delete-button",variant:"outline-danger",onClick:function(){i(t.id)},children:"Delete"}),t.live&&Object(d.jsx)(O.a,{id:"duplication-button",variant:"outline-feedplan-purple",disabled:!0,children:"Duplicate"})]}),Object(d.jsx)(R,{restaurant:t,show:s,onHide:function(){return r(!1)}})]},t.id)},L=function(e){var t=Object(n.useState)({}),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),i=Object(j.a)(r,2),b=i[0],u=i[1],h=Object(n.useContext)(N).loadRestaurants,m=function(e){s(Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(_.a,Object(o.a)(Object(o.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(_.a.Header,{closeButton:!0,children:Object(d.jsx)(_.a.Title,{id:"contained-modal-title-vcenter",children:"Add a restaurant"})}),Object(d.jsx)("div",{id:"errors-container",children:b.map((function(e){return Object(d.jsx)("div",{className:"error-message",children:e},e)}))}),Object(d.jsx)(_.a.Body,{children:Object(d.jsxs)(M.a,{onSubmit:function(t){t.preventDefault(),u([]),fetch("/restaurants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(o.a)(Object(o.a)({},c),{},{live:!1}))}).then((function(t){t.ok?(h(),s({}),e.onHide()):t.json().then((function(e){return u(e.errors)}))}))},children:[Object(d.jsx)(p.a,{children:Object(d.jsxs)(f.a,{children:[Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantName",onChange:m,children:[Object(d.jsx)(M.a.Label,{children:"Restaurant Name"}),Object(d.jsx)(M.a.Control,{type:"text",name:"name"})]}),Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantDescription",onChange:m,children:[Object(d.jsx)(M.a.Label,{children:"Description"}),Object(d.jsx)(M.a.Control,{as:"textarea",name:"description"})]}),Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantAddress",onChange:m,children:[Object(d.jsx)(M.a.Label,{children:"Address"}),Object(d.jsx)(M.a.Control,{type:"text",name:"address",placeholder:"Street, City, State ZIP"})]})]})}),Object(d.jsx)("br",{}),Object(d.jsxs)(p.a,{children:[Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantImage",onChange:m,children:[Object(d.jsx)(M.a.Label,{children:"Feature Image URL"}),Object(d.jsx)(M.a.Control,{type:"url",name:"image_url",placeholder:"paste link here"}),Object(d.jsx)("div",{id:"restaurant-preview-container",children:Object(d.jsx)("img",{className:c.image_url?"restaurant-image-preview":"image-placeholder",alt:"Restaurant feature preview",src:c.image_url})})]})}),Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantLogo",onChange:m,children:[Object(d.jsx)(M.a.Label,{children:"Logo URL"}),Object(d.jsx)(M.a.Control,{type:"url",name:"icon_url",placeholder:"paste link here"}),Object(d.jsx)("div",{id:"restaurant-preview-container",children:Object(d.jsx)("img",{className:c.icon_url?"restaurant-icon-preview":"icon-placeholder",alt:"logo preview",src:c.icon_url})})]})})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"modal-buttons",children:[Object(d.jsx)(O.a,{variant:"feedplan-purple",type:"submit",children:"Submit"}),Object(d.jsx)(O.a,{variant:"outline-feedplan-dark",onClick:e.onHide,children:"Cancel"})]})]})})]}))};function T(){var e=Object(n.useContext)(b).user,t=Object(n.useContext)(N),a=t.restaurants,c=t.loadRestaurants,s=Object(n.useState)(!1),r=Object(j.a)(s,2),i=r[0],l=r[1];Object(n.useEffect)((function(){c(e.id)}),[]);var o=a.map((function(e){return Object(d.jsx)(I,{restaurant:e},e.id)}));return Object(d.jsxs)("div",{className:"page",children:[Object(d.jsxs)("div",{className:"dashboard-heading",children:[Object(d.jsx)("h2",{variant:"feedplan-dark-mist",children:"Restaurants"}),Object(d.jsx)(O.a,{id:"add-button",variant:"outline-feedplan-dark",onClick:function(){return l(!0)},children:"create new"})]}),Object(d.jsx)("div",{className:"page-container",children:o}),Object(d.jsx)("div",{children:Object(d.jsx)(L,{show:i,onHide:function(){l(!1)}})})]})}var P=a(65),z=Object(n.createContext)(null),H=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(j.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],b=l[1];return Object(d.jsx)(z.Provider,{value:{error:o,mealPlans:s,loadMealPlans:function(){fetch("/meal-plans").then((function(e){e.ok?e.json().then(r):console.log("Something went wrong with mealplans fetch...")}))},createMealPlan:function(e){fetch("/meal-plans/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.ok||console.log("Something went wrong with creating the meal plan...")}))},deleteMealPlan:function(e){fetch("/meal-plans/".concat(e),{method:"DELETE"}).then((function(t){t.ok?r((function(t){return t.filter((function(t){return t.id!==e}))})):t.json().then((function(e){return b(e.error)}))}))},addRestaurantToMealplan:function(e,t){fetch("/meal-plan-assignment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurant_id:e,meal_plan_id:t})}).then((function(e){e.ok||console.log("Something went wrong with meal plan assignment...")}))},removeRestaurantMealplan:function(e,t){fetch("/meal-plan-assignment",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurant_id:e,meal_plan_id:t})})}},children:t})},B=a(62);function D(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useContext)(z).createMealPlan,i=function(e){s(Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(_.a,Object(o.a)(Object(o.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(_.a.Header,{closeButton:!0,children:Object(d.jsx)(_.a.Title,{id:"contained-modal-title-vcenter",children:"Create New Meal Plan"})}),Object(d.jsx)(_.a.Body,{children:Object(d.jsxs)(M.a,{onSubmit:function(){r(c)},children:[Object(d.jsxs)(p.a,{children:[Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formMealPlanName",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Meal Plan Name"}),Object(d.jsx)(M.a.Control,{type:"text",name:"name"})]})}),Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formMealPlanQuantity",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Number of meals"}),Object(d.jsx)(M.a.Control,{type:"number",name:"quantity"}),Object(d.jsx)(M.a.Text,{className:"text-muted",children:"Meal plans expire after 30 days"})]})})]}),Object(d.jsx)(p.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Total Price"}),Object(d.jsxs)(B.a,{className:"mb-2",children:[Object(d.jsx)(B.a.Text,{children:"$"}),Object(d.jsx)(M.a.Control,{id:"inlineFormInputGroup",placeholder:"0.00",name:"total_price",type:"number"})]})]})}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"modal-buttons",children:[Object(d.jsx)(O.a,{variant:"feedplan-purple",type:"submit",onClick:e.onHide,children:"Submit"}),Object(d.jsx)(O.a,{variant:"outline-feedplan-dark",onClick:e.onHide,children:"Cancel"})]})]})})]}))}var E=a(64),A=a.n(E),G=function(e){var t=e.restaurant,a=e.mealplan,c=Object(n.useContext)(z),s=c.addRestaurantToMealplan,r=c.removeRestaurantMealplan,i=Object(n.useState)(a.restaurants.some((function(e){return e.restaurant_id===t.id}))),l=Object(j.a)(i,2),o=l[0],b=l[1];return Object(d.jsxs)("div",{id:"restaurant-checkbox-container",children:[Object(d.jsxs)("div",{className:"restaurant-info-checkbox",children:[Object(d.jsx)("span",{children:t.name}),Object(d.jsx)("span",{className:"restaurant-address",children:t.address})]}),Object(d.jsx)("div",{children:Object(d.jsx)(A.a,{id:"toggle-button",checked:o,onlabel:"Assigned",width:125,onstyle:"feedplan-dark-mist",offlabel:"Unassigned",offstyle:"secondary",onChange:function(){o?r(t.id,a.id):s(t.id,a.id),b(!o)}})})]})},U=a(66);function V(e){var t=e.mealplan,a=Object(n.useState)(!1),c=Object(j.a)(a,2),s=c[0],r=c[1],i=Object(n.useContext)(N),l=i.restaurants,o=i.loadRestaurants,b=Object(n.useContext)(z),u=b.deleteMealPlan,h=b.error;Object(n.useEffect)((function(){o()}),[]);var m=l.map((function(e){return Object(d.jsx)(G,{mealplan:t,restaurant:e},e.id)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(O.a,{id:"assign-restaurant-button",variant:"light",onClick:function(){return r(!0)},children:"\uff0b"}),Object(d.jsxs)(_.a,{show:s,onHide:function(){return r(!1)},children:[Object(d.jsx)(_.a.Header,{children:Object(d.jsx)(_.a.Title,{children:"Assign ".concat(t.name," meal plan")})}),Object(d.jsx)(_.a.Body,{children:Object(d.jsxs)(M.a,{children:[Object(d.jsx)("div",{className:"mb-3",children:m},"checkbox"),h&&Object(d.jsxs)(U.a,{variant:"danger",children:[Object(d.jsx)("b",{children:"Unable to delete: "}),h]}),Object(d.jsx)("div",{className:"horizontal-line-break"}),Object(d.jsxs)("div",{id:"modal-buttons",children:[Object(d.jsx)(O.a,{type:"submit",variant:"feedplan-purple",children:"Done"}),Object(d.jsx)(O.a,{variant:"outline-danger",onClick:function(){u(t.id)},children:"delete"})]})]})})]})]})}function F(e){var t=e.mealplan,a=Object(n.useState)([]),c=Object(j.a)(a,2),s=c[0],r=c[1],i=s.length>=1;return Object(n.useEffect)((function(){fetch("/meal-plans/".concat(t.id,"/restaurants")).then((function(e){e.ok?e.json().then(r):console.log("something went wrong with assigned restaurants fetch")}))}),[]),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)(k.a,{bg:i?"success":"secondary",children:i?"assigned":"unassigned"})}),Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{children:t.quantity}),Object(d.jsx)("td",{children:t.total_price}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"assigned-restaurant-images",children:[s.map((function(e){return Object(d.jsx)("img",{className:"assigned-restaurant-icon",src:e.icon_url,alt:"assigned restaurant"},e.id)})),Object(d.jsx)(V,{mealplan:t})]})})]})}function J(){var e=Object(n.useContext)(z),t=e.loadMealPlans,a=e.mealPlans,c=Object(n.useState)(!1),s=Object(j.a)(c,2),r=s[0],i=s[1];Object(n.useEffect)((function(){t()}),[]);var l=a.map((function(e){return Object(d.jsx)(F,{mealplan:e},e.id)}));return Object(d.jsxs)("div",{className:"page",children:[Object(d.jsxs)("div",{className:"dashboard-heading",children:[Object(d.jsx)("h2",{variant:"feedplan-dark-mist",children:"Meal Plans"}),Object(d.jsx)(O.a,{id:"add-button",variant:"outline-feedplan-dark",onClick:function(){return i(!0)},children:"create new"})]}),Object(d.jsx)("div",{className:"meal-plan-table",children:Object(d.jsxs)(P.a,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Status"}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Quantity"}),Object(d.jsx)("th",{children:"Total Price"}),Object(d.jsx)("th",{children:"Restaurants"})]})}),Object(d.jsx)("tbody",{children:l})]})}),Object(d.jsx)(D,{show:r,onHide:function(){return i(!1)}})]})}var q=a(19),Q=Object(n.createContext)(null),W=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(j.a)(a,2),s=c[0],r=c[1];return Object(d.jsx)(Q.Provider,{value:{menu:s,loadMenu:function(e){fetch("/restaurants/".concat(e,"/menu")).then((function(e){e.ok?e.json().then(r):console.log("Something went wrong with restaurant menu fetch...")}))},deleteMenuItem:function(e){fetch("/restaurants/delete-menu-item/".concat(e),{method:"DELETE"}).then(r((function(t){return t.filter((function(t){return t.id!==e}))})))},createMenuItem:function(e){fetch("/restaurants/".concat(e.restaurant_id,"/new-menu-item"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.ok?e.json().then((function(e){return r([].concat(Object(q.a)(s),[e]))})):console.log("Something went wrong with adding a menu item...")}))},updateMenuItem:function(e){fetch("/restaurants/update-menu-item/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},children:t})},Z=function(e){var t=Object(n.useState)(e.menu_item),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useContext)(Q).updateMenuItem,i=function(e){s(Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(_.a,Object(o.a)(Object(o.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(_.a.Header,{closeButton:!0}),Object(d.jsx)(_.a.Body,{children:Object(d.jsxs)(M.a,{onSubmit:function(e){e.preventDefault(),r(c),s({})},children:[Object(d.jsxs)(p.a,{children:[Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formMealName",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Name"}),Object(d.jsx)(M.a.Control,{type:"text",name:"name",defaultValue:e.menu_item.name})]})}),Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantAddress",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Preparation Time"}),Object(d.jsx)(M.a.Control,{type:"number",name:"preparation_time",defaultValue:e.menu_item.preparation_time})]})}),Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formMealDescription",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Description"}),Object(d.jsx)(M.a.Control,{as:"textarea",name:"description",defaultValue:e.menu_item.description})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)(p.a,{children:Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantImage",onChange:i,children:[Object(d.jsx)(M.a.Label,{children:"Menu Item Image URL"}),Object(d.jsx)(M.a.Control,{type:"url",name:"image_url",placeholder:"paste link here",defaultValue:e.menu_item.image_url}),Object(d.jsx)("div",{id:"restaurant-preview-container",children:Object(d.jsx)("img",{className:e.menu_item.image_url?"restaurant-menu-item-preview":"image-placeholder",alt:"Menu item feature preview",src:e.menu_item.image_url})})]})})}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"modal-buttons",children:[Object(d.jsx)(O.a,{variant:"feedplan-purple",type:"submit",onClick:e.onHide,children:"Submit"}),Object(d.jsx)(O.a,{variant:"outline-feedplan-dark",onClick:e.onHide,children:"Cancel"})]})]})})]}))},$=a(40),K=a(57);function X(e){var t=e.menu_item,a=Object(n.useState)(!1),c=Object(j.a)(a,2),s=c[0],r=c[1],i=Object(n.useContext)(Q).deleteMenuItem,l=Object(n.useContext)(N).loadRestaurants;return Object(d.jsxs)($.a,{style:{width:"350px",marginRight:"1rem"},children:[Object(d.jsx)(K.a,{src:t.image_url,alt:"menu item",id:"meal-image"}),Object(d.jsxs)("div",{style:{padding:"1.25rem 2rem 0.5rem",fontSize:".9rem"},children:[Object(d.jsx)($.a.Text,{style:{fontWeight:"bold"},children:t.name}),Object(d.jsx)($.a.Text,{children:t.description}),Object(d.jsxs)($.a.Text,{style:{position:"absolute",top:"10px",right:"10px",color:"#665BF7",border:"solid #665BF7 1px",fontSize:".75rem",borderRadius:"5px",padding:"5px 15px",width:"fit-content"},children:[Object(d.jsx)("b",{children:"Prep time:"})," ",t.preparation_time," minutes"]})]}),Object(d.jsxs)($.a.Body,{children:[Object(d.jsx)(O.a,{style:{width:"100%"},variant:"outline-feedplan-dark",onClick:function(){r(!0)},children:"edit"}),Object(d.jsx)(O.a,{onClick:function(){i(t.id),l()},variant:"outline-danger",style:{marginLeft:"0.75rem"},children:"delete"})]}),Object(d.jsx)(Z,{menu_item:t,show:s,onHide:function(){return r(!1)}})]})}var Y=function(e){var t=Object(n.useState)({}),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useContext)(Q),i=r.createMenuItem,b=(r.loadMenu,function(t){var a;s(Object(o.a)(Object(o.a)({},c),{},(a={},Object(l.a)(a,t.target.name,t.target.value),Object(l.a)(a,"restaurant_id",e.restaurant.id),Object(l.a)(a,"visible",!1),a)))});return Object(d.jsxs)(_.a,Object(o.a)(Object(o.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(_.a.Header,{closeButton:!0,children:Object(d.jsxs)(_.a.Title,{id:"contained-modal-title-vcenter",children:[Object(d.jsx)("img",{id:"restaurant-menu-icon",src:e.restaurant.icon_url,alt:"restaurant icon"}),e.restaurant.name]})}),Object(d.jsx)(_.a.Body,{children:Object(d.jsxs)(M.a,{onSubmit:function(e){e.preventDefault(),i(c),s({})},children:[Object(d.jsxs)(p.a,{children:[Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formMealName",onChange:b,children:[Object(d.jsx)(M.a.Label,{children:"Name"}),Object(d.jsx)(M.a.Control,{type:"text",name:"name"})]})}),Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantAddress",onChange:b,children:[Object(d.jsx)(M.a.Label,{children:"Preparation Time"}),Object(d.jsx)(M.a.Control,{type:"number",name:"preparation_time",placeholder:"minutes"})]})}),Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formMealDescription",onChange:b,children:[Object(d.jsx)(M.a.Label,{children:"Description"}),Object(d.jsx)(M.a.Control,{as:"textarea",name:"description"})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)(p.a,{children:Object(d.jsx)(f.a,{children:Object(d.jsxs)(M.a.Group,{className:"mb-3",controlId:"formRestauarantImage",onChange:b,children:[Object(d.jsx)(M.a.Label,{children:"Menu Item Image URL"}),Object(d.jsx)(M.a.Control,{type:"url",name:"image_url",placeholder:"paste link here"}),Object(d.jsx)("div",{id:"restaurant-preview-container",children:Object(d.jsx)("img",{className:c.image_url?"restaurant-menu-item-preview":"image-placeholder",alt:"Menu item feature preview",src:c.image_url})})]})})}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"modal-buttons",children:[Object(d.jsx)(O.a,{variant:"feedplan-purple",type:"submit",onClick:e.onHide,children:"Submit"}),Object(d.jsx)(O.a,{variant:"outline-feedplan-dark",onClick:e.onHide,children:"Cancel"})]})]})})]}))};function ee(e){var t=e.restaurant,a=Object(n.useContext)(Q),c=a.loadMenu,s=a.menu,r=Object(n.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1];Object(n.useEffect)((function(){c(t.id)}),[]);var b=s.map((function(e){return Object(d.jsx)(X,{menu_item:e},e.id)}));return Object(d.jsxs)("div",{className:"restaurant-menu-section",children:[Object(d.jsxs)("div",{className:"dashboard-heading",children:[Object(d.jsxs)("div",{className:"card-headings",children:[Object(d.jsx)("img",{id:"restaurant-icon",src:t.icon_url,alt:"restaurant logo",style:{width:"50px",borderRadius:"50%",marginRight:"10px"}}),Object(d.jsx)("h2",{children:t.name})]}),Object(d.jsx)(O.a,{id:"add-button",variant:"outline-feedplan-dark",onClick:function(){return o(!0)},children:"add meal"})]}),Object(d.jsx)("div",{className:"menu-container",children:b}),Object(d.jsx)("div",{children:Object(d.jsx)(Y,{restaurant:t,show:l,onHide:function(){return o(!1)}})})]})}function te(){var e=Object(n.useContext)(N),t=e.restaurants,a=e.loadRestaurants;Object(n.useEffect)((function(){a()}),[]);var c=t.map((function(e){return Object(d.jsx)(W,{children:Object(d.jsx)(ee,{restaurant:e})},e.id)}));return Object(d.jsxs)("div",{className:"page",children:[Object(d.jsx)("div",{className:"dashboard-heading",children:Object(d.jsx)("h2",{variant:"feedplan-dark-mist",children:"Menus"})}),Object(d.jsx)("div",{className:"menu-page-container",children:c})]})}var ae=function(){return Object(d.jsxs)("div",{id:"dashboard-wrapper",children:[Object(d.jsx)(w,{}),Object(d.jsx)(v,{}),Object(d.jsx)("div",{id:"app-dashboard",children:Object(d.jsx)("div",{id:"page-content-container",children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/dashboard",element:Object(d.jsx)(C,{})}),Object(d.jsx)(i.a,{path:"/restaurants",element:Object(d.jsx)(T,{})}),Object(d.jsx)(i.a,{path:"/meal-plans",element:Object(d.jsx)(J,{})}),Object(d.jsx)(i.a,{path:"/menus",element:Object(d.jsx)(te,{})})]})})})]})};a(80);var ne=function(){var e=Object(n.useContext)(b),t=e.loadUser,a=e.user;return Object(n.useEffect)((function(){t()}),[]),Object(d.jsxs)("div",{children:[a&&Object(d.jsx)(H,{children:Object(d.jsx)(y,{children:Object(d.jsx)(ae,{})})}),!a&&Object(d.jsx)("div",{id:"login-forms",children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{element:Object(d.jsx)(x,{}),path:"/"}),Object(d.jsx)(i.a,{element:Object(d.jsx)(g,{}),path:"/sign-up"})]})})]})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,85)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},se=a(41);a(81);r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(se.a,{children:Object(d.jsx)(u,{children:Object(d.jsx)(ne,{})})})}),document.getElementById("root")),ce()}},[[82,1,2]]]);
//# sourceMappingURL=main.5f54c338.chunk.js.map